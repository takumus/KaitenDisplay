#include <wiringPi.h>
#include <stdio.h>

#define DATAPIN		0
#define LATCHPIN	2
#define CLOCKPIN	3

unsigned long a[]= {
	0b1000000000000001,
	0b0100000000000010,
	0b0010000000000100,
	0b0001000000001000,
	0b0000100000010000,
	0b0000010000100000,
	0b0000001001000000,
	0b0000000110000000,
	0b0000000110000000,
	0b0000001111000000,
	0b0000011111100000,
	0b0000111111110000,
	0b0001111111111000,
	0b0011111111111100,
	0b0111111111111110,
	0b1111111111111111,
	0b1111111111111111,
	0b0111111111111110,
	0b0011111111111100,
	0b0001111111111000,
	0b0000111111110000,
	0b0000011111100000,
	0b0000001111000000,
	0b0000000110000000,
	0b0000000110000000,
	0b0000001001000000,
	0b0000010000100000,
	0b0000100000010000,
	0b0001000000001000,
	0b0010000000000100,
	0b0100000000000010,
	0b1000000000000001,
	0b0100000000000010,
	0b0010000000000100,
	0b0001000000001000,
	0b0000100000010000,
	0b0000010000100000,
	0b0000001001000000,
	0b0000000110000000,
	0b0000001001000000,
	0b0000010000100000,
	0b0000100000010000,
	0b0001000000001000,
	0b0010000000000100,
	0b0100000000000010,
	0b1000000000000001,
	0b0000000000000000,
	0b0000000000000000,
	0b0000000000000000,
	0b0000000000000000,
	0b0000000000000000,
	0b0000000000000000,
	0b0000000000000001,
	0b0000000000000010,
	0b0000000000000100,
	0b0000000000001000,
	0b0000000000010000,
	0b0000000000100000,
	0b0000000001000000,
	0b0000000010000000,
	0b0000000100000000,
	0b0000001000000000,
	0b0000010000000000,
	0b0000100000000000,
	0b0001000000000000,
	0b0010000000000000,
	0b0100000000000000,
	0b1000000000000000,
	0b1000000000000001,
	0b1000000000000010,
	0b1000000000000100,
	0b1000000000001000,
	0b1000000000010000,
	0b1000000000100000,
	0b1000000001000000,
	0b1000000010000000,
	0b1000000100000000,
	0b1000001000000000,
	0b1000010000000000,
	0b1000100000000000,
	0b1001000000000000,
	0b1010000000000000,
	0b1100000000000000,
	0b1100000000000001,
	0b1100000000000010,
	0b1100000000000100,
	0b1100000000001000,
	0b1100000000010000,
	0b1100000000100000,
	0b1100000001000000,
	0b1100000010000000,
	0b1100000100000000,
	0b1100001000000000,
	0b1100010000000000,
	0b1100100000000000,
	0b1101000000000000,
	0b1110000000000000,
	0b1110000000000001,
	0b1110000000000010,
	0b1110000000000100,
	0b1110000000001000,
	0b1110000000010000,
	0b1110000000100000,
	0b1110000001000000,
	0b1110000010000000,
	0b1110000100000000,
	0b1110001000000000,
	0b1110010000000000,
	0b1110100000000000,
	0b1111000000000000,
	0b1111000000000001,
	0b1111000000000010,
	0b1111000000000100,
	0b1111000000001000,
	0b1111000000010000,
	0b1111000000100000,
	0b1111000001000000,
	0b1111000010000000,
	0b1111000100000000,
	0b1111001000000000,
	0b1111010000000000,
	0b1111100000000000,
	0b1111100000000001,
	0b1111100000000010,
	0b1111100000000100,
	0b1111100000001000,
	0b1111100000010000,
	0b1111100000100000,
	0b1111100001000000,
	0b1111100010000000,
	0b1111100100000000,
	0b1111101000000000,
	0b1111110000000000,
	0b1111110000000001,
	0b1111110000000010,
	0b1111110000000100,
	0b1111110000001000,
	0b1111110000010000,
	0b1111110000100000,
	0b1111110001000000,
	0b1111110010000000,
	0b1111110100000000,
	0b1111111000000000,
	0b1111111000000001,
	0b1111111000000010,
	0b1111111000000100,
	0b1111111000001000,
	0b1111111000010000,
	0b1111111000100000,
	0b1111111001000000,
	0b1111111010000000,
	0b1111111100000000,
	0b1111111100000001,
	0b1111111100000010,
	0b1111111100000100,
	0b1111111100001000,
	0b1111111100010000,
	0b1111111100100000,
	0b1111111101000000,
	0b1111111110000000,
	0b1111111110000001,
	0b1111111110000010,
	0b1111111110000100,
	0b1111111110001000,
	0b1111111110010000,
	0b1111111110100000,
	0b1111111111000000,
	0b1111111111000001,
	0b1111111111000010,
	0b1111111111000100,
	0b1111111111001000,
	0b1111111111010000,
	0b1111111111100000,
	0b1111111111100001,
	0b1111111111100010,
	0b1111111111100100,
	0b1111111111101000,
	0b1111111111110000,
	0b1111111111110001,
	0b1111111111110010,
	0b1111111111110100,
	0b1111111111111000,
	0b1111111111111001,
	0b1111111111111010,
	0b1111111111111100,
	0b1111111111111101,
	0b1111111111111110,
	0b1111111111111111,
	0b1111111111111111,
	0b1111111111111111,
	0b1111111111111111,
	0b1111111111111111,
	0b1111111111111111,
	0b1111111111111111,
	0b0111111111111110,
	0b0011111111111100,
	0b0001111111111000,
	0b0000111111110000,
	0b0000011111100000,
	0b0000001111000000,
	0b0000000110000000,
	0b0000000110000000,
	0b0000001001000000,
	0b0000010000100000,
	0b0000100000010000,
	0b0001000000001000,
	0b0010000000000100,
	0b0100000000000010,
	0b1000000000000001
};
void sWrite( int dataPin, int clockPin, int bit, unsigned long val )
{
	digitalWrite(LATCHPIN, 0);
	for(int i = 0; i < bit; i++ )
	{
		digitalWrite(dataPin, ((val>>i) & 1));
		digitalWrite(clockPin, 1);
		digitalWrite(clockPin, 0);
	}
	digitalWrite(LATCHPIN, 1);
}

int main(void)
{
	if(wiringPiSetup() == -1){
		printf("error wiringPi setup!?\n");
		return 1;
	}
	pinMode(DATAPIN, OUTPUT);
	pinMode(LATCHPIN, OUTPUT);
	pinMode(CLOCKPIN, OUTPUT);
	int length = sizeof(a)/sizeof(unsigned long);
	while(1){
		for(int i = 0; i < length; i ++){
			sWrite( DATAPIN, CLOCKPIN, 16, a[i]);
			delayMicroseconds(20000);
		}
	}
	return 0;
}
